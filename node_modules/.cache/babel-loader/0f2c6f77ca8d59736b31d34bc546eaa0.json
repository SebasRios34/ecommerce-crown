{"ast":null,"code":"import _defineProperty from\"/Users/sebasrios/Documents/React-Course/capstone/crwn-clothing/ecommerce-crown/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/sebasrios/Documents/React-Course/capstone/crwn-clothing/ecommerce-crown/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/sebasrios/Documents/React-Course/capstone/crwn-clothing/ecommerce-crown/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sebasrios/Documents/React-Course/capstone/crwn-clothing/ecommerce-crown/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/sebasrios/Documents/React-Course/capstone/crwn-clothing/ecommerce-crown/node_modules/@babel/runtime/regenerator/index.js\";/* USING useState */import{useState}from\"react\";import{createAuthUserWithEmailAndPassword,createUserDocumentFromAuth}from\"../../utils/firebase/firebase.utils\";import FormInput from\"../form-input/form-input.component\";import Button from\"../button/button.component\";import{SignUpContainer}from\"./sign-up-form.styles\";//1. Create an object with the fields and value it needs at default\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var defaultFormFields={displayName:\"\",email:\"\",password:\"\",confirmPassword:\"\"};var SignUpForm=function SignUpForm(){//2. create variable with value and set using useState\nvar _useState=useState(defaultFormFields),_useState2=_slicedToArray(_useState,2),formFields=_useState2[0],setFormFields=_useState2[1];//3. Descontruction of values inside object\nvar displayName=formFields.displayName,email=formFields.email,password=formFields.password,confirmPassword=formFields.confirmPassword;var resetFormFields=function resetFormFields(){setFormFields(defaultFormFields);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _yield$createAuthUser,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!(password!==confirmPassword)){_context.next=4;break;}alert(\"Passwords do not match!\");return _context.abrupt(\"return\");case 4:_context.prev=4;_context.next=7;return createAuthUserWithEmailAndPassword(email,password);case 7:_yield$createAuthUser=_context.sent;user=_yield$createAuthUser.user;_context.next=11;return createUserDocumentFromAuth(user,{displayName:displayName});case 11:resetFormFields();_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](4);if(_context.t0.code===\"auth/email-already-in-use\"){alert(\"Cannot create user, email already in use\");}else{console.log(\"user creation encountered an error\",_context.t0);}case 17:case\"end\":return _context.stop();}}},_callee,null,[[4,14]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();//4.Create handleEvent linked to the input tag and set the values\nvar handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormFields(_objectSpread(_objectSpread({},formFields),{},_defineProperty({},name,value)));};return/*#__PURE__*/_jsxs(SignUpContainer,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Don't have an account?\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Sign up with your email and password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(FormInput,{label:\"Display Name\",inputOptions:{type:\"text\",required:true,onChange:handleChange,name:\"displayName\",value:displayName}}),/*#__PURE__*/_jsx(FormInput,{label:\"Email\",inputOptions:{type:\"email\",required:true,onChange:handleChange,name:\"email\",value:email}}),/*#__PURE__*/_jsx(FormInput,{label:\"Password\",inputOptions:{type:\"password\",required:true,onChange:handleChange,name:\"password\",value:password}}),/*#__PURE__*/_jsx(FormInput,{label:\"Confirm Password\",inputOptions:{type:\"password\",required:true,onChange:handleChange,name:\"confirmPassword\",value:confirmPassword}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Sign Up\"})]})]});};export default SignUpForm;","map":{"version":3,"names":["useState","createAuthUserWithEmailAndPassword","createUserDocumentFromAuth","FormInput","Button","SignUpContainer","defaultFormFields","displayName","email","password","confirmPassword","SignUpForm","formFields","setFormFields","resetFormFields","handleSubmit","event","preventDefault","alert","user","code","console","log","handleChange","target","name","value","type","required","onChange"],"sources":["/Users/sebasrios/Documents/React-Course/capstone/crwn-clothing/ecommerce-crown/src/components/sign-up-form/sign-up-form.components.jsx"],"sourcesContent":["/* USING useState */\nimport { useState } from \"react\";\n\nimport {\n  createAuthUserWithEmailAndPassword,\n  createUserDocumentFromAuth,\n} from \"../../utils/firebase/firebase.utils\";\n\nimport FormInput from \"../form-input/form-input.component\";\nimport Button from \"../button/button.component\";\n\nimport { SignUpContainer } from \"./sign-up-form.styles\";\n\n//1. Create an object with the fields and value it needs at default\nconst defaultFormFields = {\n  displayName: \"\",\n  email: \"\",\n  password: \"\",\n  confirmPassword: \"\",\n};\n\nconst SignUpForm = () => {\n  //2. create variable with value and set using useState\n  const [formFields, setFormFields] = useState(defaultFormFields);\n  //3. Descontruction of values inside object\n  const { displayName, email, password, confirmPassword } = formFields;\n\n  const resetFormFields = () => {\n    setFormFields(defaultFormFields);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    if (password !== confirmPassword) {\n      alert(\"Passwords do not match!\");\n      return;\n    }\n\n    try {\n      const { user } = await createAuthUserWithEmailAndPassword(\n        email,\n        password\n      );\n\n      await createUserDocumentFromAuth(user, { displayName });\n      resetFormFields();\n    } catch (error) {\n      if (error.code === \"auth/email-already-in-use\") {\n        alert(\"Cannot create user, email already in use\");\n      } else {\n        console.log(\"user creation encountered an error\", error);\n      }\n    }\n  };\n\n  //4.Create handleEvent linked to the input tag and set the values\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormFields({ ...formFields, [name]: value });\n  };\n\n  return (\n    <SignUpContainer>\n      <h2>Don't have an account?</h2>\n      <span>Sign up with your email and password</span>\n      <form onSubmit={handleSubmit}>\n        <FormInput\n          label=\"Display Name\"\n          inputOptions={{\n            type: \"text\",\n            required: true,\n            onChange: handleChange,\n            name: \"displayName\",\n            value: displayName,\n          }}\n        />\n\n        <FormInput\n          label=\"Email\"\n          inputOptions={{\n            type: \"email\",\n            required: true,\n            onChange: handleChange,\n            name: \"email\",\n            value: email,\n          }}\n        />\n\n        <FormInput\n          label=\"Password\"\n          inputOptions={{\n            type: \"password\",\n            required: true,\n            onChange: handleChange,\n            name: \"password\",\n            value: password,\n          }}\n        />\n\n        <FormInput\n          label=\"Confirm Password\"\n          inputOptions={{\n            type: \"password\",\n            required: true,\n            onChange: handleChange,\n            name: \"confirmPassword\",\n            value: confirmPassword,\n          }}\n        />\n        <Button type=\"submit\">Sign Up</Button>\n      </form>\n    </SignUpContainer>\n  );\n};\n\nexport default SignUpForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}