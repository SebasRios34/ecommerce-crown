{"ast":null,"code":"import _slicedToArray from\"/Users/sebasrios/Documents/React-Course/capstone/crwn-clothing/ecommerce-crown/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"/Users/sebasrios/Documents/React-Course/capstone/crwn-clothing/ecommerce-crown/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/sebasrios/Documents/React-Course/capstone/crwn-clothing/ecommerce-crown/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createContext,useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var addCartItem=function addCartItem(cartItems,productToAdd){//find if cartItems contains productToAdd\nvar existingCartItem=cartItems.find(function(cartItem){return cartItem.id===productToAdd.id;});//If found, increment quantity\nif(existingCartItem){return cartItems.map(function(cartItem){return cartItem.id===productToAdd.id?_objectSpread(_objectSpread({},cartItem),{},{quantity:cartItem.quantity+1}):cartItem;});}//return new array with modified cartItems/new cart items\nreturn[].concat(_toConsumableArray(cartItems),[_objectSpread(_objectSpread({},productToAdd),{},{quantity:1})]);};var removeCartItem=function removeCartItem(cartItems,cartItemToRemove){//find the cart item to remove\nvar existingCartItem=cartItems.find(function(cartItem){return cartItem.id===cartItemToRemove.id;});//check if quantity is equal to 1, if it is remove that item from the cart\nif(existingCartItem.quantity===1){return cartItems.filter(function(cartItem){return cartItem.id!==cartItemToRemove.id;});}return cartItems.map(function(cartItem){return cartItem.id===cartItemToRemove.id?_objectSpread(_objectSpread({},cartItem),{},{quantity:cartItem.quantity-1}):cartItem;});};var clearCartItem=function clearCartItem(cartItems,cartItemToClear){return cartItems.filter(function(cartItem){return cartItem.id!==cartItemToClear.id;});};export var CartContext=/*#__PURE__*/createContext({isCartOpen:false,setIsCartOpen:function setIsCartOpen(){},cartItems:[],addItemToCart:function addItemToCart(){},removeItemFromCart:function removeItemFromCart(){},clearItemFromCart:function clearItemFromCart(){},cartCount:0,cartTotal:0});export var CartProvider=function CartProvider(_ref){var children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isCartOpen=_useState2[0],setIsCartOpen=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cartItems=_useState4[0],setCartItems=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),cartCount=_useState6[0],setCartCount=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),cartTotal=_useState8[0],setCartTotal=_useState8[1];useEffect(function(){var newCartCount=cartItems.reduce(function(total,cartItem){return total+cartItem.quantity;},0);setCartCount(newCartCount);},[cartItems]);useEffect(function(){var newCartTotal=cartItems.reduce(function(total,cartItem){return total+cartItem.quantity*cartItem.price;},0);setCartTotal(newCartTotal);},[cartItems]);var addItemToCart=function addItemToCart(productToAdd){setCartItems(addCartItem(cartItems,productToAdd));};var removeItemFromCart=function removeItemFromCart(cartItemToRemove){setCartItems(removeCartItem(cartItems,cartItemToRemove));};var clearItemFromCart=function clearItemFromCart(cartItemToClear){setCartItems(clearCartItem(cartItems,cartItemToClear));};var value={isCartOpen:isCartOpen,setIsCartOpen:setIsCartOpen,addItemToCart:addItemToCart,removeItemFromCart:removeItemFromCart,clearItemFromCart:clearItemFromCart,cartItems:cartItems,cartCount:cartCount,cartTotal:cartTotal};return/*#__PURE__*/_jsx(CartContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["createContext","useEffect","useState","addCartItem","cartItems","productToAdd","existingCartItem","find","cartItem","id","map","quantity","removeCartItem","cartItemToRemove","filter","clearCartItem","cartItemToClear","CartContext","isCartOpen","setIsCartOpen","addItemToCart","removeItemFromCart","clearItemFromCart","cartCount","cartTotal","CartProvider","children","setCartItems","setCartCount","setCartTotal","newCartCount","reduce","total","newCartTotal","price","value"],"sources":["/Users/sebasrios/Documents/React-Course/capstone/crwn-clothing/ecommerce-crown/src/context/cart.context.jsx"],"sourcesContent":["import { createContext, useEffect, useState } from \"react\";\n\nconst addCartItem = (cartItems, productToAdd) => {\n  //find if cartItems contains productToAdd\n  const existingCartItem = cartItems.find(\n    (cartItem) => cartItem.id === productToAdd.id\n  );\n\n  //If found, increment quantity\n  if (existingCartItem) {\n    return cartItems.map((cartItem) =>\n      cartItem.id === productToAdd.id\n        ? { ...cartItem, quantity: cartItem.quantity + 1 }\n        : cartItem\n    );\n  }\n\n  //return new array with modified cartItems/new cart items\n  return [...cartItems, { ...productToAdd, quantity: 1 }];\n};\n\nconst removeCartItem = (cartItems, cartItemToRemove) => {\n  //find the cart item to remove\n  const existingCartItem = cartItems.find(\n    (cartItem) => cartItem.id === cartItemToRemove.id\n  );\n\n  //check if quantity is equal to 1, if it is remove that item from the cart\n  if (existingCartItem.quantity === 1) {\n    return cartItems.filter((cartItem) => cartItem.id !== cartItemToRemove.id);\n  }\n\n  return cartItems.map((cartItem) =>\n    cartItem.id === cartItemToRemove.id\n      ? { ...cartItem, quantity: cartItem.quantity - 1 }\n      : cartItem\n  );\n};\n\nconst clearCartItem = (cartItems, cartItemToClear) =>\n  cartItems.filter((cartItem) => cartItem.id !== cartItemToClear.id);\n\nexport const CartContext = createContext({\n  isCartOpen: false,\n  setIsCartOpen: () => {},\n  cartItems: [],\n  addItemToCart: () => {},\n  removeItemFromCart: () => {},\n  clearItemFromCart: () => {},\n  cartCount: 0,\n  cartTotal: 0,\n});\n\nexport const CartProvider = ({ children }) => {\n  const [isCartOpen, setIsCartOpen] = useState(false);\n  const [cartItems, setCartItems] = useState([]);\n  const [cartCount, setCartCount] = useState(0);\n  const [cartTotal, setCartTotal] = useState(0);\n\n  useEffect(() => {\n    const newCartCount = cartItems.reduce(\n      (total, cartItem) => total + cartItem.quantity,\n      0\n    );\n    setCartCount(newCartCount);\n  }, [cartItems]);\n\n  useEffect(() => {\n    const newCartTotal = cartItems.reduce(\n      (total, cartItem) => total + cartItem.quantity * cartItem.price,\n      0\n    );\n    setCartTotal(newCartTotal);\n  }, [cartItems]);\n\n  const addItemToCart = (productToAdd) => {\n    setCartItems(addCartItem(cartItems, productToAdd));\n  };\n\n  const removeItemFromCart = (cartItemToRemove) => {\n    setCartItems(removeCartItem(cartItems, cartItemToRemove));\n  };\n\n  const clearItemFromCart = (cartItemToClear) => {\n    setCartItems(clearCartItem(cartItems, cartItemToClear));\n  };\n\n  const value = {\n    isCartOpen,\n    setIsCartOpen,\n    addItemToCart,\n    removeItemFromCart,\n    clearItemFromCart,\n    cartItems,\n    cartCount,\n    cartTotal,\n  };\n\n  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}